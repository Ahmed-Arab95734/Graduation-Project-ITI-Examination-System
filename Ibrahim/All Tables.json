{
  "databaseSchema": [
    {
      "tableName": "Department",
      "columns": [
        {
          "name": "Department_ID",
          "type": "INT",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "Department_Name",
          "type": "NVARCHAR(200)",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Manager_ID",
          "type": "INT",
          "constraints": []
        }
      ],
      "tableConstraints": [
        "FOREIGN KEY (Manager_ID) REFERENCES Instructor(Instructor_ID) ON DELETE SET NULL"
      ]
    },
    {
      "tableName": "Instructor",
      "columns": [
        {
          "name": "Instructor_ID",
          "type": "INT",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "Instructor_Fname",
          "type": "NVARCHAR(50)",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Instructor_Lname",
          "type": "NVARCHAR(50)",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Instructor_Gender",
          "type": "NVARCHAR(10)",
          "constraints": [
            "CHECK (Instructor_Gender IN (N'Male', N'Female'))"
          ]
        },
        {
          "name": "Instructor_Birthdate",
          "type": "DATE",
          "constraints": [
            "CHECK (DATEADD(year, 18, Instructor_Birthdate) <= GETDATE())",
            "CHECK (DATEADD(YEAR, 23, Instructor_Birthdate) <= GETDATE())"
          ]
        },
        {
          "name": "Instructor_Marital_Status",
          "type": "NVARCHAR(50)",
          "constraints": [
            "CHECK (Instructor_Marital_Status IN (N'Married', N'Single'))"
          ]
        },
        {
          "name": "Instructor_Salary",
          "type": "INT",
          "constraints": [
            "CHECK (Instructor_Salary >= 8000)"
          ]
        },
        {
          "name": "Instructor_Contract_Type",
          "type": "NVARCHAR(50)",
          "constraints": [
            "CHECK (Instructor_Contract_Type IN (N'Full-Time', N'Part-Time'))"
          ]
        },
        {
          "name": "Instructor_Email",
          "type": "NVARCHAR(150)",
          "constraints": []
        },
        {
          "name": "Department_ID",
          "type": "INT",
          "constraints": []
        }
      ],
      "tableConstraints": [
        "FOREIGN KEY (Department_ID) REFERENCES Department(Department_ID)"
      ]
    },
    {
      "tableName": "Instructor_Phone",
      "columns": [
        {
          "name": "Instructor_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Phone",
          "type": "NVARCHAR(20)",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": [
        "PRIMARY KEY (Instructor_ID, Phone)",
        "FOREIGN KEY (Instructor_ID) REFERENCES Instructor(Instructor_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Intake",
      "columns": [
        {
          "name": "Intake_ID",
          "type": "INT",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "Intake_Name",
          "type": "NVARCHAR(200)",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Intake_Type",
          "type": "NVARCHAR(50)",
          "constraints": [
            "CHECK (Intake_Type IN (N'Professional Training Program - (9 Months)', N'Intensive Code Camps - (4 Months)'))"
          ]
        },
        {
          "name": "Intake_Start_Date",
          "type": "DATE",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Intake_End_Date",
          "type": "DATE",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": []
    },
    {
      "tableName": "Branch",
      "columns": [
        {
          "name": "Branch_ID",
          "type": "INT",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "Branch_Location",
          "type": "NVARCHAR(200)",
          "constraints": []
        },
        {
          "name": "Branch_Name",
          "type": "NVARCHAR(200)",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Branch_Start_Date",
          "type": "DATE",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": []
    },
    {
      "tableName": "Track",
      "columns": [
        {
          "name": "Track_ID",
          "type": "INT",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "Track_Name",
          "type": "NVARCHAR(200)",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Department_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": [
        "FOREIGN KEY (Department_ID) REFERENCES Department(Department_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Group",
      "columns": [
        {
          "name": "Group_ID",
          "type": "int",
          "constraints": [
            "NOT NULL",
            "PRIMARY KEY CLUSTERED"
          ]
        },
        {
          "name": "Intake_ID",
          "type": "int",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Branch_ID",
          "type": "int",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Track_ID",
          "type": "int",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": [
        "FOREIGN KEY (Branch_ID) REFERENCES dbo.Branch(Branch_ID) ON DELETE CASCADE",
        "FOREIGN KEY (Intake_ID) REFERENCES dbo.Intake(Intake_ID) ON DELETE CASCADE",
        "FOREIGN KEY (Track_ID) REFERENCES dbo.Track(Track_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Student",
      "columns": [
        {
          "name": "Student_ID",
          "type": "INT",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "Student_Mail",
          "type": "NVARCHAR(100)",
          "constraints": [
            "NOT NULL",
            "UNIQUE"
          ]
        },
        {
          "name": "Student_Address",
          "type": "NVARCHAR(255)",
          "constraints": []
        },
        {
          "name": "Student_Gender",
          "type": "NVARCHAR(10)",
          "constraints": [
            "CHECK (Student_Gender IN (N'Male', N'Female'))"
          ]
        },
        {
          "name": "Student_Marital_Status",
          "type": "NVARCHAR(50)",
          "constraints": [
            "CHECK (Student_Marital_Status IN (N'Married', N'Single'))"
          ]
        },
        {
          "name": "Student_Fname",
          "type": "NVARCHAR(50)",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Student_Lname",
          "type": "NVARCHAR(50)",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Student_Birthdate",
          "type": "DATE",
          "constraints": [
            "NOT NULL",
            "CHECK (DATEADD(year, 18, Student_Birthdate) <= GETDATE())",
            "CHECK (DATEADD(YEAR, 22, Student_Birthdate) <= GETDATE())"
          ]
        },
        {
          "name": "Student_Faculty",
          "type": "NVARCHAR(100)",
          "constraints": []
        },
        {
          "name": "Student_Faculty_Grade",
          "type": "NVARCHAR(50)",
          "constraints": [
            "CHECK (Student_Faculty_Grade IN (N'Excellent', N'Very Good', N'Good', N'Pass'))"
          ]
        },
        {
          "name": "Student_ITI_Status",
          "type": "NVARCHAR(50)",
          "constraints": [
            "CHECK (Student_ITI_Status IN (N'Graduated', N'Failed to Graduate', N'In Progress'))"
          ]
        },
        {
          "name": "Group_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": [
        "FOREIGN KEY (Group_ID) REFERENCES [Group](Group_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Failed_Students",
      "columns": [
        {
          "name": "Student_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Failure_Reason",
          "type": "NVARCHAR(255)",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": [
        "PRIMARY KEY (Student_ID, Failure_Reason)",
        "FOREIGN KEY (Student_ID) REFERENCES Student(Student_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Student_Phone",
      "columns": [
        {
          "name": "Student_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Phone",
          "type": "NVARCHAR(20)",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": [
        "PRIMARY KEY (Student_ID, Phone)",
        "FOREIGN KEY (Student_ID) REFERENCES Student(Student_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Student_Social",
      "columns": [
        {
          "name": "Student_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Social_Type",
          "type": "NVARCHAR(50)",
          "constraints": [
            "NOT NULL",
            "CHECK (Social_Type IN (N'Facebook', N'LinkedIn', N'Instagram', N'GitHub', N'X'))"
          ]
        },
        {
          "name": "Social_Url",
          "type": "NVARCHAR(400)",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": [
        "PRIMARY KEY (Student_ID, Social_Type)",
        "FOREIGN KEY (Student_ID) REFERENCES Student(Student_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Freelance_Job",
      "columns": [
        {
          "name": "Job_ID",
          "type": "INT",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "Student_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Job_Earn",
          "type": "DECIMAL(12, 2)",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Job_Date",
          "type": "DATE",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Job_Site",
          "type": "NVARCHAR(255)",
          "constraints": []
        },
        {
          "name": "Description",
          "type": "NVARCHAR(1000)",
          "constraints": [
            "NULL"
          ]
        }
      ],
      "tableConstraints": [
        "FOREIGN KEY (Student_ID) REFERENCES Student(Student_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Certificate",
      "columns": [
        {
          "name": "Certificate_ID",
          "type": "INT",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "Student_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Certificate_Name",
          "type": "NVARCHAR(200)",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Certificate_Provider",
          "type": "NVARCHAR(200)",
          "constraints": [
            "NULL"
          ]
        },
        {
          "name": "Certificate_Cost",
          "type": "DECIMAL(12, 2)",
          "constraints": []
        },
        {
          "name": "Certificate_Date",
          "type": "DATE",
          "constraints": []
        }
      ],
      "tableConstraints": [
        "FOREIGN KEY (Student_ID) REFERENCES Student(Student_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Company",
      "columns": [
        {
          "name": "Company_ID",
          "type": "INT",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "Company_Name",
          "type": "NVARCHAR(200)",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Company_Location",
          "type": "NVARCHAR(200)",
          "constraints": []
        },
        {
          "name": "Company_Type",
          "type": "NVARCHAR(100)",
          "constraints": [
            "CHECK (Company_Type = N'Multinational' OR Company_Type = N'National')"
          ]
        }
      ],
      "tableConstraints": []
    },
    {
      "tableName": "Student_Company",
      "columns": [
        {
          "name": "Student_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Company_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Salary",
          "type": "DECIMAL(12, 2)",
          "constraints": []
        },
        {
          "name": "Position",
          "type": "NVARCHAR(100)",
          "constraints": []
        },
        {
          "name": "Contract_Type",
          "type": "NVARCHAR(50)",
          "constraints": [
            "CHECK (Contract_Type IN (N'Full-Time', N'Part-Time'))"
          ]
        },
        {
          "name": "Hire_Date",
          "type": "DATE",
          "constraints": []
        },
        {
          "name": "Leave_Date",
          "type": "DATE",
          "constraints": []
        }
      ],
      "tableConstraints": [
        "PRIMARY KEY (Student_ID, Company_ID)",
        "FOREIGN KEY (Student_ID) REFERENCES Student(Student_ID) ON DELETE CASCADE",
        "FOREIGN KEY (Company_ID) REFERENCES Company(Company_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Course",
      "columns": [
        {
          "name": "Course_ID",
          "type": "INT",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "Course_Name",
          "type": "NVARCHAR(200)",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": []
    },
    {
      "tableName": "Topic",
      "columns": [
        {
          "name": "Topic_ID",
          "type": "INT",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "Topic_Name",
          "type": "NVARCHAR(200)",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Course_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": [
        "FOREIGN KEY (Course_ID) REFERENCES Course(Course_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Track_Course",
      "columns": [
        {
          "name": "Course_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Track_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": [
        "PRIMARY KEY (Track_ID, Course_ID)",
        "FOREIGN KEY (Track_ID) REFERENCES Track(Track_ID)",
        "FOREIGN KEY (Course_ID) REFERENCES Course(Course_ID)"
      ]
    },
    {
      "tableName": "Instructor_Course",
      "columns": [
        {
          "name": "Instructor_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Course_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": [
        "PRIMARY KEY (Instructor_ID, Course_ID)",
        "FOREIGN KEY (Instructor_ID) REFERENCES Instructor(Instructor_ID) ON DELETE CASCADE",
        "FOREIGN KEY (Course_ID) REFERENCES Course(Course_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Student_Course",
      "columns": [
        {
          "name": "Student_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Course_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Course_StartDate",
          "type": "DATE",
          "constraints": []
        },
        {
          "name": "Course_EndDate",
          "type": "DATE",
          "constraints": []
        }
      ],
      "tableConstraints": [
        "PRIMARY KEY (Student_ID, Course_ID)",
        "FOREIGN KEY (Student_ID) REFERENCES Student(Student_ID) ON DELETE CASCADE",
        "FOREIGN KEY (Course_ID) REFERENCES Course(Course_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Exam",
      "columns": [
        {
          "name": "Exam_ID",
          "type": "INT",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "Course_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Instructor_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Exam_Date",
          "type": "DATE",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Exam_Duration_Minutes",
          "type": "INT",
          "constraints": [
            "NOT NULL",
            "CHECK (Exam_Duration_Minutes > 0)"
          ]
        },
        {
          "name": "Exam_Type",
          "type": "NVARCHAR(50)",
          "constraints": [
            "CHECK (Exam_Type IN (N'Normal', N'Corrective'))"
          ]
        }
      ],
      "tableConstraints": [
        "FOREIGN KEY (Course_ID) REFERENCES Course(Course_ID) ON DELETE CASCADE",
        "FOREIGN KEY (Instructor_ID) REFERENCES Instructor(Instructor_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Question_Bank",
      "columns": [
        {
          "name": "Question_ID",
          "type": "INT",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "Course_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Question_Type",
          "type": "NVARCHAR(50)",
          "constraints": [
            "CHECK (Question_Type IN (N'MCQ', N'True/False'))"
          ]
        },
        {
          "name": "Question_Description",
          "type": "NVARCHAR(1000)",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Question_Model_Answer",
          "type": "NVARCHAR(1000)",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": [
        "FOREIGN KEY (Course_ID) REFERENCES Course(Course_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Question_Choice",
      "columns": [
        {
          "name": "Question_Choice_ID",
          "type": "INT",
          "constraints": [
            "PRIMARY KEY"
          ]
        },
        {
          "name": "Question_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Choice_Text",
          "type": "NVARCHAR(500)",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": [
        "FOREIGN KEY (Question_ID) REFERENCES Question_Bank(Question_ID) ON DELETE CASCADE"
      ]
    },
    {
      "tableName": "Exam_Questions",
      "columns": [
        {
          "name": "Exam_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Question_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        }
      ],
      "tableConstraints": [
        "PRIMARY KEY (Exam_ID, Question_ID)",
        "FOREIGN KEY (Exam_ID) REFERENCES Exam(Exam_ID)",
        "FOREIGN KEY (Question_ID) REFERENCES Question_Bank(Question_ID)"
      ]
    },
    {
      "tableName": "Student_Exam_Answer",
      "columns": [
        {
          "name": "Exam_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Question_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Student_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Student_Answer",
          "type": "NVARCHAR(1000)",
          "constraints": []
        },
        {
          "name": "Student_Grade",
          "type": "DECIMAL(6, 2)",
          "constraints": [
            "CHECK (Student_Grade >= 0)"
          ]
        }
      ],
      "tableConstraints": [
        "PRIMARY KEY (Exam_ID, Question_ID, Student_ID)",
        "FOREIGN KEY (Exam_ID) REFERENCES Exam(Exam_ID)",
        "FOREIGN KEY (Question_ID) REFERENCES Question_Bank(Question_ID)",
        "FOREIGN KEY (Student_ID) REFERENCES Student(Student_ID)"
      ]
    },
    {
      "tableName": "Rating",
      "columns": [
        {
          "name": "Student_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "Instructor_ID",
          "type": "INT",
          "constraints": [
            "NOT NULL"
          ]
        },
        {
          "name": "RatingValue",
          "type": "TINYINT",
          "constraints": [
            "NOT NULL",
            "CHECK (RatingValue BETWEEN 1 AND 10)"
          ]
        }
      ],
      "tableConstraints": [
        "PRIMARY KEY (Student_ID, Instructor_ID)",
        "FOREIGN KEY (Student_ID) REFERENCES Student(Student_ID)",
        "FOREIGN KEY (Instructor_ID) REFERENCES Instructor(Instructor_ID)"
      ]
    }
  ]
}